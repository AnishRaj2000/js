@import 'variables';

.notes {
	@note_list_margin: 3.125rem;
	.list-container {padding: (@note_list_margin * 2) @note_list_margin;}
	.list-container {
		> p.empty {padding: 25.0vh 24rem 0 24rem; font-size: 2.1em; line-height: 1.4em; color: @theme_gray; text-align: center;}
		> p.empty {
			small {display: block; font-size: .6em;}
			small {
				em {display: inline-block; vertical-align: bottom; margin: 0 0 -1rem 0; font-size: 1.8em;}
			}
			icon {display: block; font-size: 2.6em; color: @theme_gray_midlight; line-height: 1.5em;}
		}
	}
	ul.note-list {position: relative; width: 100%; margin: 0; padding: 0; list-style: none;}
	ul.note-list {
		li {margin: 0 @note_list_margin (@note_list_margin * 2) @note_list_margin; .card();}
		li {
			.body {max-height: 400rem; overflow: hidden;}
		}
	}

	ul.note-list.masonry {
		li {float: left; width: 48%;}
	}
	@media @landscape {
		ul.note-list.masonry {
			li {width: 32%;}
		}
	}
	ul.note-list.column {
	}
	ul.note-list.list {
	}
}

@content_pad: 6rem;
.note {
	&.text,
	&.link {
		.note-gutter {padding: @content_pad;}
	}
	&.image {
		.backing {position: relative; z-index: 10; width: 100%; min-height: 32rem; background: #000;}
		.header-backing {display: none;}
		img {display: block; margin: 0 auto; max-width: 100%;}
		@header_height: 30rem;
		@header_top_pad: 4rem;
		@header_margin_bottom: 3rem;	// aligns the text as if header weren't there
		.content h1 {position: relative; display: block; height: @header_height; margin: -(@header_height + @header_top_pad) 0 @header_margin_bottom 0; padding: @header_top_pad 0 0 6%; line-height: @header_height; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; .title-scrim(bottom, .45);}
		.note-gutter .content .body {padding: @content_pad;}
	}
	@info_width: 240rem;
	@info_height: 100rem;
	.info-container {display: block; position: fixed; bottom: 20rem; right: 80rem; .transition(opacity .3s, right .3s;);}
	.info-container.scrolled {opacity: 0;}
	.info-container.open {right: 60rem;}
	.info-container.hidden {display: none;}
	.info-container {
		@preview_height: 20rem;
		@info_margin_top: 6rem;
		.preview {width: 88rem; height: @preview_height; padding: 6rem 3rem 1rem 3rem; overflow: hidden; text-align: center; line-height: 18rem; background: @theme_primary; border: 2rem solid #fff; .transition(width .3s, height .3s;); .layer-hover();}
		&.open .preview {width: @info_width; height: (@info_height + @info_margin_top + @preview_height);}
		.preview {
			ul {margin: 0; padding: 0; list-style: none;}
			ul {
				li {display: inline-block; margin: 0 4rem; font-size: 15rem; color: #fff;;}
				li {
					icon {margin: 0 3rem 0 0;}
				}
			}
		}
		.info {width: (@info_width - (3rem * 2)); height: 100rem; margin: @info_margin_top 0 0 0; padding: 3rem; overflow: auto; color: #fff;}
		.info {
			form.standard-form {padding: 0 0 6px 0;}
			form.standard-form {
				input {color: #fff; background: none; border-bottom-color: #fff;}
			}
			.info-list {margin: 0 0 (2 * @content_pad) 0; text-align: left;}
			.info-list {
				li {}
				li:after {content: ', ';}
				li:first-child:after,
				li:last-child:after {content: '';}
				icon {color: #fff;}
			}
		}
	}
	.content {
		h1:first-child {word-wrap: break-word;}
		h1:last-child {margin-bottom: 0; padding-bottom: 0;}
		.body {
			*:last-child {margin-bottom: 0; padding-bottom: 0;}
		}
	}
	> .color {position: absolute; z-index: 11; display: block; top: 3rem; right: 3rem; width: 12rem; height: 12rem; background: @theme_primary; border: 1px solid rgba(0, 0, 0, .2); border-radius: 7rem; .layer-hover();}
	> .color {
		&.blue {background-color: #73b8d1;}
		&.red {background-color: #e85c5c;}
		&.green {background-color: #7bde76;}
		&.purple {background-color: #9476de;}
		&.pink {background-color: #de76d3;}
		&.brown {background-color: #7f4e4e;}
		&.black {background-color: #111;}
	}

	p.empty {padding: 10rem 0; font-size: 13rem; color: @theme_gray; text-align: center;}
}

.turtl-modal {
	.note {
		.note-gutter {padding-bottom: 64rem;}
		> .color {width: 16rem; height: 16rem; border-radius: 9rem;}
	}
}

.turtl-modal:not(.note-image) {
	.note {
		> .color {position: static; float: right; margin: 4rem 4rem 0 4rem;}
	}
}
.turtl-modal.note-image {
	header {.title-scrim(top, .50, 110%); box-shadow: none;}
	header {
		h1 {
			em:before {top: 13rem; left: 3rem; .item-scrim(.3);}
		}
		ul.actions {
			> li {
				.item-actions {
					> a:before {top: 15rem; left: 31rem; .item-scrim(.3);}
				}
			}
		}
	}
	header.scrolled {background: none;}
	header.scrolled {
		h1 em:before {box-shadow: none;}
		ul.actions > li .item-actions > a:before {box-shadow: none;}
	}
	.note {
		.backing {min-height: @header_height;}
		.header-backing {display: block; position: fixed; z-index: 9; top: 0; left: 0; width: 100%; height: @header_height; background: @theme_black_bg;}
		> .color {top: auto; right: 16rem; margin: -10rem -3rem 0 0;}
		.note-gutter .content .body {padding-top: (@content_pad * 2);}
	}
	.modal-gutter {padding-top: 0;}
}

.note-boards {margin: 0 0 16rem 0; padding: 0 4%; font-size: 14rem; border-radius: 0; .transition(border .3s);}
.note-boards {
	icon {float: left; margin: 4rem 8rem 0 0; font-size: 20rem; color: @theme_black; .transition(color .3s);}
	span {display: inline-block; padding: 3rem; color: @theme_primary;}
	ul {list-style: none;}
	ul {
		li {display: block; float: left; margin: 0 6rem 6rem 0; padding: 3rem 5rem; background: @theme_border; border: 1px solid @theme_gray_midlight; border-radius: 2rem;}
	}
}

.notes-edit {
	form {
		.existing {padding: 0 0 4rem 0; font-size: 13rem;}
		.existing {
			em {display: inline-block; width: 14rem; height: 14rem; margin: 0 6rem 0 0; font-weight: bold; color: #fff; text-align: center; background: @theme_accent; border-radius: 7rem;}
		}
		textarea {height: 24rem; max-height: 240rem;}
		.formatting {margin: -14rem 0 16rem 0; text-align: right;}
		.formatting {
			a[rel=formatting] {display: block; padding: 5rem 0; font-size: 15rem;}
		}
	}

	ul.colors {margin: 0; padding: 8rem 0 0 0; list-style: none; text-align: center;}
	ul.colors {
		// 'none','blue','red','green','purple','pink','brown','black'
		li {display: inline-block; margin: 0 6rem 6rem 6rem; padding: 0 0 0 0; .transition(transform .3s);}
		li.sel {transform: scale(1.35, 1.35);}
		li {
			span {display: block; width: 24rem; height: 24rem; border: 1rem solid #ccc; border-radius: 4rem;}
		}
		.edit-color(@color) {background: @color; border-color: @color;}
		.none span {}
		.blue span {.edit-color(#73b8d1);}
		.red span {.edit-color(#e85c5c);}
		.green span {.edit-color(#7bde76);}
		.purple span {.edit-color(#9476de);}
		.pink span {.edit-color(#de76d3);}
		.brown span {.edit-color(#7f4e4e);}
		.black span {.edit-color(#111);}
	}
}

